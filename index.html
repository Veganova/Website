<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Viraj Patil - Resume</title>
	<link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" />
	<link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">

	<link href="css/mystyles.css" rel="stylesheet">
	<!--<link href="css/bootstrap-social.css" rel="stylesheet"> </head>-->


</head>
<script>
	function myFunction() {
		var w = window.outerWidth;
		var h = window.outerHeight;
		var txt = "Window size: width=" + w + ", height=" + h;
		console.log(txt);
	}
	
	
</script>

<body onresize="myFunction()">
	<nav class="navbar navbar-default navbar-static-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
				<!--
					<a class="navbar-brand" href="#" > 
						<img alt="Brand" src="img/5.png" height="50px" width="50px" > 
					</a> -->
			</div>
			<div id="navbar" class="navbar-collapse collapse navbar-right">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#"><span class="glyphicon glyphicon-home"></span> Viraj</a></li>
					<li><a href="#"><span class="glyphicon glyphicon-user"></span> About Me</a></li>
					<li><a href="#"><span class="glyphicon glyphicon-list-alt"></span> Resume</a></li>
					<li><a href="#"><i class="fa fa-phone" aria-hidden="true"></i> 	Contact Me</a></li>
				</ul>


			</div>
		</div>
	</nav>

	<header class="one jumbotron jumbotron-fluid">
		<div class="container">
			<div class="col-xs-12 col-sm-8">
				<h2>Viraj Patil</h2>
				<p>A site to tell you more about me and my future goals.</p>
			</div>
			<div class="col-xs-12 col-sm-4">
				<img src="img/Viraj_Patil_Photo.jpg" class="img-circle cborder">
			</div>
		</div>
	</header>
	<header class="two jumbotron jumbotron-fluid">
		<div class="container">
			
			<div class="col-xs-12 col-sm-1 col-sm-push-6">
				<button id = "back" onclick = "backOut(canvas)" type = "button"  class = "btn btn-primary btn-lg">BACK</button>
			</div>
			<div class="col-xs-12 col-sm-5 col-sm-push-6 ">
				<h2>My Resume</h2>
				<p>View a detailed summary of my past achievements.</p>
			</div>
			
			<div class="col-xs-12 col-sm-6 col-sm-pull-6" id = "canvas">
				
			</div>
			

		</div>

	</header>
	
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

</body>
<script>
	
	class Node {
		constructor(current, branches, parent) {
			this.current = current;
			this.branches = branches;
			this.parent = parent;
		}
		
		// Prints at the this node
		print(c) {
			var id_main = this.current.substr(0, 8)
			var result = "<ul id =" + id_main + " " + "class = 'list-group'>" + this.current ;
			

			for (var i =0; i < this.branches.length; i += 1) {
				var entry = this.branches[i];
				var id = id_main + i;
				if (c == 0) {
					result += "<li id =" + id + " " + "class = 'list-group-item' onclick='event.stopPropagation(); goIn(this);' style='display:block'>" + entry.print(c + 1) + "</li>";
				}
			}
			
			
			result += "</ul>";
			
			return result;
		
		
		}
		
		printAtID(id) {
			var id_main = this.current.substr(0, 8)
			var result = "";
			if (id === id_main) {
				result = this.print(0);
			} else {
				// Go down each branch - perhaps optimize this later so that it goes down the correct branch from the start (sort the branches?)
				for (var i = 0; i < this.branches.length; i += 1) {
					var idTemp = id_main + i;
					var entry = this.branches[i];
					
					if (idTemp === id) {
						result = entry.print(0);
						break;
					} else {
						entry.printAtID(id);
					}
				}
			}
			if (!(result === "")) {
				console.log(id);
				document.getElementById(id).parentElement.parentElement.innerHTML =  result;
			}
		}
		// Problem - li and ul - two layers of parent stuff to traverse
		
		printBackAtID(id) {
			var id_main = this.current.substr(0, 8)
			var result = "";
			console.log(id);
			if (id === id_main) {
				
				result = this.parent.print(0);
				console.log(entry.parent.current);
						
			} else {
				// Go down each branch - perhaps optimize this later so that it goes down the correct branch from the start (sort the branches?)
				for (var i = 0; i < this.branches.length; i += 1) {
					var idTemp = id_main + i;
					var entry = this.branches[i];
					
					if (idTemp === id) {
						result = entry.parent.print(0);
						console.log(entry.parent.current);
						break;
					} else {
						entry.printBackAtID(id);
					}
				}
			}
			if (!(result === "")) {
				document.getElementById(id).innerHTML =  result;
			}
		}
	}
	
	function goIn(ob) {
		console.log(root.branches[0].parent === root);
		var id = ob.id;
		root.printAtID(id);
		
	}
	
	function backOut(ob) {
		console.log(root.branches[0].branches[0].parent === branches[0]);
		var id = ob.id;
		//id = document.getElementById(id).children[0].children[0].id;
		id = document.getElementById(id).firstChild.id;
		root.printBackAtID(id);
	}
	
	
	// Preset constant
	var a1, a2, achievements, a2_1, h1, h2, hobbies, goals, root;
	
		 a1 = new Node("Intership at Ovitas", [], achievements);
		 a2 = new Node("Tutor at RSM", [], achievements);
	achievements = new Node("Achievements", [a1, a2], root);
		
	
	 	a2_1 = new Node("League video", [], h1);
	 h1 = new Node("Animation", [a2_1], hobbies);
		 h2 = new Node("WebDesign", [], hobbies);
	hobbies = new Node("Hobbies", [h1, h2], root);
	
	
	
	goals = new Node("Goals", [], root);
	
	// resumeElements = ;
	root = new Node("Resume", [achievements, hobbies, goals], root);

	
	achievements.parent = root;
	a1.parent = achievements;
	a2.parent = achievements;
	
	h1.parent = hobbies;
	a2_1.parent = h1;
	h2.parent = hobbies;
	hobbies.parent = root;
	
	goals.parent = root;
	root.parent = root;
	
	function appendText() {
		 result = root.print(0);

		//$("#canvas").append(result);
		document.getElementById("canvas").innerHTML = result;
	}
	

	$("#canvas").ready(appendText());
	

	
	
	
	
	</script>
	
	
	
</html>
